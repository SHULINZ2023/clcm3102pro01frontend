{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shulinzhang/my-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/shulinzhang/my-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/shulinzhang/my-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/shulinzhang/my-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./mySurvey.css';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RoutineList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),routines=_useState2[0],setRoutines=_useState2[1];// Define the API URL you want to fetch data from\nvar navigate=useNavigate();var handleClick=function handleClick(event){// Navigate to another page when the button is clicked\nconsole.log(event.target.name);var params={routine_id:event.target.name};navigate('/Rating',{state:params});};// Define a function to fetch and update the data\nvar fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",fetch('http://localhost:3500/GetFitnessRoutines').then(function(response){if(!response.ok){throw new Error('Network response was not ok');}return response.json();}).then(function(data){setRoutines(function(){return _toConsumableArray(data);});}).catch(function(error){console.error('Error:',error);}));case 1:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchData();// Call the fetchData function when the component mounts\n},[]);var renderStars=function renderStars(numStars){var starSymbol='★';// Unicode star character\nvar stars=starSymbol.repeat(numStars);return stars;};var stopColor=function stopColor(avgRating){return Math.round(100*(avgRating-parseInt(avgRating)));};var linearGradient=\"linear-gradient(to right, red 30%, gray 70%)\";var customStyle=function customStyle(avgRating){var firstColor=stopColor(avgRating);var restColor=100-firstColor;var specialStyle={background:\"linear-gradient(to right, red \".concat(firstColor,\"%, gray \").concat(restColor,\"%)\"),WebkitBackgroundClip:'text',// Use the camelCase for -webkit-background-clip\ncolor:'transparent'// This sets the text color to transparent\n};return specialStyle;};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Welcome to Alberta Wellness Programs\"}),/*#__PURE__*/_jsx(\"table\",{children:routines.map(function(x,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Routine ID \"}),/*#__PURE__*/_jsx(\"td\",{children:x.routine_id}),/*#__PURE__*/_jsx(\"td\",{children:\"Routine Name\"}),/*#__PURE__*/_jsx(\"td\",{children:x.routine_name}),/*#__PURE__*/_jsx(\"td\",{children:\"start at\"}),/*#__PURE__*/_jsx(\"td\",{children:x.start_date}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"star selected\",children:renderStars(parseInt(x.avg_rating))}),/*#__PURE__*/_jsx(\"span\",{style:customStyle(x.avg_rating),children:\"\\u2605\"},stopColor(x.avg_rating)),/*#__PURE__*/_jsx(\"span\",{className:\"star\",children:renderStars(5-parseInt(x.avg_rating)-1)}),/*#__PURE__*/_jsx(\"span\",{children:x.avg_rating})]})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"our goal\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:6,children:\"Keep your body in shape, and light\"})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:7,children:\"life is not easy, keeping running make you alive!\"})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleClick,name:x.routine_id,children:\" Comments and Rating \"})})})]},\"div\".concat(x.routine_id));})})]});}export default RoutineList;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","RoutineList","_useState","_useState2","_slicedToArray","routines","setRoutines","navigate","handleClick","event","console","log","target","name","params","routine_id","state","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","fetch","then","response","ok","Error","json","data","_toConsumableArray","catch","error","stop","apply","arguments","renderStars","numStars","starSymbol","stars","repeat","stopColor","avgRating","Math","round","parseInt","linearGradient","customStyle","firstColor","restColor","specialStyle","background","concat","WebkitBackgroundClip","color","children","map","x","index","routine_name","start_date","className","avg_rating","style","colSpan","type","onClick"],"sources":["/Users/shulinzhang/my-react-app/src/routineList.js"],"sourcesContent":["import React,{ useState,useEffect } from 'react';\nimport './mySurvey.css';\nimport { useNavigate } from 'react-router-dom';\n\n\nfunction RoutineList() {\n\n    const [routines, setRoutines] = useState([]);\n\n     // Define the API URL you want to fetch data from\n     const navigate = useNavigate();\n     const handleClick = (event) => {\n      // Navigate to another page when the button is clicked\n      console.log(event.target.name);\n      const params = {\n        routine_id: event.target.name,\n      };\n      navigate('/Rating',{state:params});\n    };\n  // Define a function to fetch and update the data\n\n    const fetchData = async () => {\n    return fetch('http://localhost:3500/GetFitnessRoutines')\n  .then(response => {\n    if (!response.ok) {\n      throw new Error('Network response was not ok');\n    }\n \n    return response.json();\n  })\n  .then(data => {\n    setRoutines(() => [...data]);\n  })\n  .catch(error => {\n    console.error('Error:', error);\n  });\n      \n\n  };\n\n  useEffect(() => {\n    fetchData(); // Call the fetchData function when the component mounts\n  }, []);\n\n\n      const renderStars = (numStars) => {\n        const starSymbol = '★'; // Unicode star character\n        const stars = starSymbol.repeat(numStars);\n        return stars;\n      };\n      \n      const stopColor=(avgRating)=> {\n        return Math.round(100*(avgRating-parseInt(avgRating)));\n      }\n      \n\n      const linearGradient = \"linear-gradient(to right, red 30%, gray 70%)\"\n\n      const customStyle = (avgRating)=>{\n        const firstColor = stopColor(avgRating);\n        const restColor = 100-firstColor;  \n      const specialStyle = {\n        background: `linear-gradient(to right, red ${firstColor}%, gray ${restColor}%)`,\n        WebkitBackgroundClip: 'text', // Use the camelCase for -webkit-background-clip\n           color: 'transparent', // This sets the text color to transparent\n      };\n      return specialStyle;\n    }\n    return (\n      <div>\n        <p>Welcome to Alberta Wellness Programs</p>\n        <table>\n        {routines.map((x, index) => (\n            <div key={`div${x.routine_id}`}>\n                <tr>\n                    <td>Routine ID </td>\n                    <td>{x.routine_id}</td>\n                    <td>Routine Name</td>\n                    <td>{x.routine_name}</td>\n                    <td>start at</td>\n                    <td>{x.start_date}</td>\n                    <td>\n                    <p><span className='star selected'>{renderStars(parseInt(x.avg_rating))}</span>\n                    <span key={stopColor(x.avg_rating)} style={customStyle(x.avg_rating)}>&#9733;</span>\n                    <span className='star'>{renderStars(5 - parseInt(x.avg_rating) -1)}</span>\n                    <span>{x.avg_rating}</span></p>\n                    </td>\n                </tr>\n                <tr>\n                    <td>our goal</td>\n                    <td colSpan={6}>Keep your body in shape, and light</td>\n                </tr>\n                <tr>\n                    <td colSpan={7}>life is not easy, keeping running make you alive!</td>\n                </tr>\n                <tr>\n                  <td>\n                   <button type=\"button\" onClick={handleClick} name={x.routine_id}> Comments and Rating </button>\n                  </td>\n                </tr>\n            </div>\n             ))}\n        </table>     \n      </div>\n\n    );\n  }\n\n\nexport default RoutineList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}